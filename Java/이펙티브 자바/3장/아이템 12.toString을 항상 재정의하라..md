**TOC**
- []()

# toString의 일반 규약
기본 `toString`은 우리가 작성한 클래스에 적합한 문자열을 반환하는 경우가 거의 없다.
- 일반 규약은 **“간결하면서 사람이 읽기 쉬운 형태의 유익한 정보”**라고 하지만, `Object` 의 `toString` 은 단순히 `클래스_이름@16진수로_표시한_해시코드`를 반환할 뿐이다.
- 또한 모든 하위 클래스에서 이 메소드를 재정의하라라는 규약도 있다.
  - 하위 클래스들이 공유해야 할 문자열 표현이 있는 추상 클래스라면, `toString`을 재정의해야 한다. (대다수의 컬렉션 구현체들이 해당된다.)

## toString 재정의의 이점
**이를 잘 구현한 클래스는 사용하기에 훨씬 즐겁고, 그 클래스를 사용한 시스템은 디버깅이 쉬워진다.** 

이 메소드는 객체를 `println`, `printf, 문자열 연결 연산자(+), assert 구문`에 넘길 때, 혹은 디버거가 객체를 출력할 때 **자동으로 호출**된다.
- 즉, 작성한 객체를 참조하는 컴포넌트가 오류 메시지를 로깅할 때 자동으로 호출할 수 있다.

## toString 재정의 시 주의 사항
### 어떤 정보를 포함할 것인가?
실전에서 `toString`은 **그 객체가 가진 주요 정보 모두를 반환**하는 게 좋다.
- 하지만 객체가 너무 크거나 상태가 문자열로 표현하기 부적절하다면, 요약 정보를 담아야 한다.

### 반환값의 포맷에 대한 문서화는 어떻게 할 것인가?
구현 시, 반환값의 포맷을 문서화할 지 정해야 한다.
- 전화번호나 행렬 같은 값 클래스라면, 문서화 해야 한다.
  - 포맷을 명시하면, 그 객체는 표준적이고, 명확하고, 사람이 읽을 수 있게 된다.
  - 따라서 그 값 그대로 입출력에 사용하거나 CSV 파일처럼 사람이 읽을 수 있는 데이터 객체로 저장할 수도 있다.
  - 그리고 이에 맞는 문자열과 객체를 상호 전환할 수 있는 정적 팩토리나 생성자를 함께 제공해주면 좋다.
    
하지만, 문서화하였을 때는 단점도 있다.
- 한 번 명시하면, 평생 그 포맷에 얽히게 된다.
  - 즉, **해당 포맷에 의존적이게 된다!**

**→ 따라서 포맷을 문서화하든, 안하든, 의도를 밝히자!**

### 반환 값에 대한 접근 API 제공
포맷 명시 여부와 상관없이 **`toString`이 반환한 값에 포함된 정보를 얻어올 수 있는 API를 제공하자.**
- 이 정보가 필요한 개발자는 `toString`의 반환값을 파싱해야 하기 때문이다.

# toString을 재정의하지 않아도 되는 클래스
- 정적 유틸 클래스는 `toString`을 제공할 이유가 없다.
  - 왜일까? 이미 모든 멤버가 공개되기 때문인가 ?
- 또한 대부분의 열거 타입은 이미 자바에서 완벽한 `toString` 을 제공한다. 
  - name을 반환하는 toString