**TOC**
- [public 필드만 존재하는 클래스 - 문제](#public-필드만-존재하는-클래스---문제)
- [필드를 노출해도 문제가 없는 클래스](#필드를-노출해도-문제가-없는-클래스)
  - [자바 표준 라이브러리 중 예외](#자바-표준-라이브러리-중-예외)
- [public 불변 필드 또한 여전히 문제.](#public-불변-필드-또한-여전히-문제)

# public 필드만 존재하는 클래스 - 문제
인스턴스 필드들만 선언되어 있는 퇴보한 클래스의 경우,

```java
class Point {
		public double x;
		public double y;
}
```

이러한 클래스는 필드에 직접 접근이 가능하기에 캡슐화의 이점을 제공하지 못한다.
- → 필드를 모두 `private` 으로 바꾸고 public 접근자(getter)를 추가하도록 하자.

패키지 바깥에서 접근할 수 있는 클래스라면 → 즉, public하다면!
- 접근자를 제공하여 클래스 내부 표현 방식을 언제든 바꿀 수 있는 유연성을 얻도록 하자.

`public` 클래스가 필드를 공개하면, 이를 사용하는 클라이언트가 생겨날 것이고!
- 내부 표현 방식을 마음대로 바꿀 수 없게 된다. 
- → 사용하는 클라이언트에서의 오류를 발생시킬 수 있기 때문!?

# 필드를 노출해도 문제가 없는 클래스
하지만 패키지 바깥에서 접근할 수 없는, 즉 `package-private` 혹은 `private` 중첩 클래스라면, 데이터 필드를 노출해도 문제가 없다.
- 클래스가 표현하려는 추상 개념만 올바르게 표현해주면 된다.

이 방식은 클래스 선언 면에서나, 이를 사용하는 클라이언트 코드 면에서나 깔끔하다!
- 클라이언트 코드가 이 클래스 내부 표현에 묶이지만,
- 어차피 클라이언트도 **이 클래스를 포함하는 패키지 안에서만 동작**한다.
- `private` 중첩 클래스의 경우, 그 바깥 클래스로 제한되어 수정 범위가 더 좁아진다.

## 자바 표준 라이브러리 중 예외
자바 플랫폼 라이브러리 중 이 **아이템**을 어긴 사례가 있다.
- `java.awt.package.Point`
- `java.awt.package.Dimension`

> 그리고 내부를 노출한 `Dimension` 클래스의 성능 문제는 아직 해결되지 못했다.

# public 불변 필드 또한 여전히 문제.
`public` 클래스의 필드가 불변이라면, 직접 노출할 때의 단점이 조금은 줄어들지만, 여전히 좋지는 못하다.
- API를 변경하지 않고는 표현 방식을 바꿀 수 없고, 필드를 읽을 때 부수 작업을 수행할 수 없다는 단점이 여전하기 때문이다.
- 단 불변식은 보장할 수 있다.
  - 아래는 생성자를 통해 유효성 검사를 수행함으로써 불변식을 보장한다.

```java
class Time {
		...

		public final int hour;
		public final int minute;

		public Time(int hour, int minute) {
				// 대충 인자 유효성 확인하고 에러 던지는 코드
				this.hour = hour;
				this.minute = minute;
		}
}
```