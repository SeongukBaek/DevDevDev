**TOC**
- [가변인수 개수에 따라 발생할 수 있는 문제](#가변인수-개수에-따라-발생할-수-있는-문제)
  - [인수가 1개 이상이어야 할 때 가변인수 활용법](#인수가-1개-이상이어야-할-때-가변인수-활용법)
  - [가변인수가 걸림돌이 되는 상황](#가변인수가-걸림돌이-되는-상황)

# 가변인수 개수에 따라 발생할 수 있는 문제
가변인수 메소드 : 명시한 타입의 인수를 0개 이상 받을 수 있다.
- 인수의 개수만큼의 크기를 가진 배열 생성, 인수들을 저장, 메소드에서 사용
- 사용하는 입장에서는 인수 개수는 런타임에 생성된 배열의 크기로 알 수 있다.

```java
// 가변인수 중 최솟값을 찾는 메소드
static int min(int... args) {
    // 인수가 1개 이상이어야 하므로, 0개인 경우 IllegalArgumentException 발생
}
```
- 만약 위의 경우라면, 인수를 0개만 넣어 호출하게 되면, **런타임에 실패하게 된다.**
- 코드 또한 매개변수 개수를 확인해야 하는 **검증 코드가 들어가 지저분**하다.

## 인수가 1개 이상이어야 할 때 가변인수 활용법
```java
static int min(int firstArg, int... remainingArgs) {
    int min = firstArg;
    for (int arg : remainingArgs) {
        if (arg < min) {
            min = arg;
        }
    }
    return min;
}
```
- 첫번째 매개변수로 평범한 변수를 전달
- 두번째로 가변인수 전달

## 가변인수가 걸림돌이 되는 상황
가변인수는 인수 개수가 정해지지 않은 경우, 유용하다.

하지만 성능에 민감한 경우, 걸림돌이 될 수 있다.
- 가변인수 메소드는 호출마다 새 배열을 생성한다.
- 이 비용을 감당할 수 없는 경우, 인수 개수에 따라 **점진적으로 메소드를 다중정의**하는 것이다.
- `EnumSet` 의 정적 팩토리 또한 이 기법을 사용해 열거 타입 집합 생성 비용을 최소화한다.

<img width="668" alt="스크린샷 2024-03-31 오후 9 45 23" src="https://github.com/SeongukBaek/DevDevDev/assets/33208303/0f12e37b-e252-4069-b8fa-73fd27eaba26">
