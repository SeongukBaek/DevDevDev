# 객체 생성과 파괴
**목표**
- 객체를 생성해야 할 때와 만들지 말아야 할 때를 구분하는 법
- 올바른 객체 생성 방법과 불필요한 생성을 피하는 방법
- 제때 파괴됨을 보장하고, 파괴 전에 수행해야 할 정리 작업을 관리

**TOC**
- []()

---

# 아이템1. 생성자 대신 정적 팩토리 메소드를 고려하라.
생성자는 클래스의 인스턴스를 얻는 전통적인 수단이다.
- 이와 별도로, 클래스의 인스터스를 반환하는 정적 메소드(static method)를 통해 클래스의 인스턴스를 얻을 수도 있다.
  - 이때 이를 **정적 팩토리 메소드**라고 한다.
- 아래는 `Boolean`에서 제공하는 정적 팩토리 메소드이다.

```java
public static Boolean valueOf(boolean b) {
    return b ? Boolean.TRUE : Boolean.FALSE;
} 
```

그럼 이 방식은 어떠한 장단점이 있을까?

## 장점 1. 이름을 가질 수 있다.
생성자의 경우, 하나의 시그니처로는 하나의 생성자만 만들 수 있고, 넘겨지는 매개변수와 생성자 자체만으로 반환될 객체의 특성을 설명해야 한다.
- 하지만 정적 팩토리 메소드의 경우, 메소드의 이름을 필요로 하기에, 이름을 통해 반환될 객체의 특성을 쉽게 묘사할 수 있다.
  - ex. `toEntity()`, `fromDto()`

> 정적 팩토리 메소드를 통해, 반환해야 할 인스턴스의 차이가 드러나는 인스턴스 제공 수단을 만들자.

## 장점 2. 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.
미리 만들어둔 인스턴스를 반환하는 형태, 혹은 새로 생성한 인스턴스를 캐싱하여 재활용하는 형태가 될 것이다.
- 같은 객체가 자주 요청되는 상황이라면 성능을 상당히 끌어올릴 수 있다. 
  - 플라이웨이트 패턴과 유사하다.

> **플라이웨이트 패턴?**
> : 데이터를 공유해 메모리를 절약하는 패턴
> - 공통으로 사용되는 객체는 한 번만 생성되고, Pool에 의해 관리 및 사용되는 디자인 패턴

