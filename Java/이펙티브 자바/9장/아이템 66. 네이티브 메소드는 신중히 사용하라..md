자바 네이티브 인터페이스 : 자바 프로그램이 네이티브 메소드를 호출하는 기술
- 네이티브 메소드 : C나 C++ 같은 네이티브 프로그래밍 언어로 작성한 메소드

네이티브 메소드의 주요 쓰임
1. 레지스트리 같은 플랫폼 특화 기능을 사용
  - 자바가 성숙해가면서, 하부 플랫폼들의 기능들을 흡수하고 있다. 예로, 자바 9부터는 OS 프로세스에 접근할 수 있는 process API가 추가되어, 해당 부분 관련해서는 네이티브 메소드를 사용하지 않아도 된다.
2. 네이티브 코드로 작성된 기존 라이브러리를 사용
3. 성능 개선을 목적으로 성능에 결정적인 영향을 주는 영역만 따로 네이티브 언어로 작성

**성능 개선을 위해 네이티브 메소드를 사용하는 것은 권장되지 않는다.**
- 과거 자바와 달리, JVM이 발전하면서, 대부분의 영역에서 네이티브 구현에 견줄만한 성능을 보이기 때문.
- 하지만 반례로, `BigInteger` 의 경우, 자바 8 이후 큰 개선이 진행되지 않았고, 네이티브 라이브러리의 경우 개선 작업이 계속 진행되어 와서, 해당 부분 관련해 고성능의 연산이 필요하다면 네이티브 메소드를 사용하는 것을 고려해도 좋다고 한다.

**네이티브 메소드의 심각한 단점**
- 네이티브 언어가 안전하지 않아, 이를 사용하는 애플리케이션은 메모리 훼손 오류로부터 안전하지 않다.
- GC는 네이티브 메모리를 자동 회수하지 못하고, 추적도 불가능하다.
- 또한 네이티브 코드와 자바 코드를 넘나드는 비용도 발생하고, 이 두 코드 간 `접착 코드` 작성 또한 가독성이 떨어지고 귀찮은 작업이다.

**네이티브 코드와 자바 코드를 넘나드는 비용?**
- GPT를 통해 얻은 답변
- 호출 오버헤드: 네이티브 메소드 호출을 위해 JVM이 네이티브 인터페이스를 사용하여 호출을 해석하고, 네이티브 라이브러리를 로드하고, 메소드를 호출하고, 결과를 처리하는 등의 작업을 수행하는 데 발생하는 오버헤드
- 데이터 변환 오버헤드: 네이티브 메소드와 자바 코드 간에 데이터를 주고받을 때, 데이터 형식이나 구조가 다를 수 있는데, 이 경우 데이터 변환 오버헤드가 발생해 데이터를 변환하고 복사하는 데에 시간이 소요
- 메모리 관리 오버헤드: 자바와 네이티브 코드 간에 데이터를 주고받을 때, 메모리 할당 및 해제에 대한 오버헤드가 발생할 수 있다. 특히, 네이티브 코드에서 메모리를 할당하고 자바 코드에서 이를 해제하는 경우에는 추가적인 오버헤드가 발생할 수 있다.
- 스레드 동기화 오버헤드: 자바 코드와 네이티브 코드 간의 상호 작용이 멀티스레드 환경에서 이뤄지는 경우, 스레드 동기화 오버헤드가 발생할 수 있다. 특히, 네이티브 코드에서 자바 객체에 접근하거나 자바 메소드를 호출하는 경우에는 스레드 동기화가 필요하므로 이로 인해 오버헤드가 발생할 수 있다.
